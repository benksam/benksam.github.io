<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.4.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Samir Benjelloun">

  
  
  
    
  
  <meta name="description" content="Introduction This is an R Markdown Notebook. In this document, the analysis from the last Google Sheets Document will be extended by:
Visualizing in R the relationships between Income, Energy consumption and CO2-emission,
 Incrementing the dataset with further Energy- and CO2-emissions related variables, and thereafter expand the previous correlation matrix with additional Income-, Energy- and CO2-emissions-related variables,
 Performing a Cluster Analysis based on a Multivariate Factor Analysis (MFA), a method that aims at synthesizing the information from all available data on Income, Energy and CO2-emissions.">

  
  <link rel="alternate" hreflang="en-us" href="../../project/external-project/">

  


  
  
  
  <meta name="theme-color" content="#2962ff">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.css" integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ==" crossorigin="anonymous">
    

    

  

  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700|Roboto:400,400italic,700|Roboto+Mono&display=swap">
  

  
  
  
  <link rel="stylesheet" href="../../css/academic.min.04a87a1cb9027e3c50f566322527c56f.css">

  

  
  
  

  

  <link rel="manifest" href="../../index.webmanifest">
  <link rel="icon" type="image/png" href="../../img/icon-32.png">
  <link rel="apple-touch-icon" type="image/png" href="../../img/icon-192.png">

  <link rel="canonical" href="../../project/external-project/">

  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="Datasyn">
  <meta property="og:url" content="/project/external-project/">
  <meta property="og:title" content="Income, Energy Consumption and CO2-Emissions with R Notebook | Datasyn">
  <meta property="og:description" content="Introduction This is an R Markdown Notebook. In this document, the analysis from the last Google Sheets Document will be extended by:
Visualizing in R the relationships between Income, Energy consumption and CO2-emission,
 Incrementing the dataset with further Energy- and CO2-emissions related variables, and thereafter expand the previous correlation matrix with additional Income-, Energy- and CO2-emissions-related variables,
 Performing a Cluster Analysis based on a Multivariate Factor Analysis (MFA), a method that aims at synthesizing the information from all available data on Income, Energy and CO2-emissions."><meta property="og:image" content="/project/external-project/featured.jpg">
  <meta property="twitter:image" content="/project/external-project/featured.jpg"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2018-04-27T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2018-04-27T00:00:00&#43;00:00">
  

  


  


  


  





  <title>Income, Energy Consumption and CO2-Emissions with R Notebook | Datasyn</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  
<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0 compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="../../">Datasyn</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav mr-auto">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="../../#projects"><span>Projects</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="../../#contact"><span>Contact</span></a>
        </li>

        
        

      
      </ul>
      <ul class="navbar-nav ml-auto">
      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


  <article class="article article-project">

  




















  
  
    
  


<div class="article-container pt-3">
  <h1>Income, Energy Consumption and CO2-Emissions with R Notebook</h1>

  

  



<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    Apr 27, 2018
  </span>
  

  

  

  
  
  

  
  

  
    
<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=/project/external-project/&amp;text=Income,%20Energy%20Consumption%20and%20CO2-Emissions%20with%20R%20Notebook" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=/project/external-project/&amp;t=Income,%20Energy%20Consumption%20and%20CO2-Emissions%20with%20R%20Notebook" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook-f"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=Income,%20Energy%20Consumption%20and%20CO2-Emissions%20with%20R%20Notebook&amp;body=/project/external-project/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=/project/external-project/&amp;title=Income,%20Energy%20Consumption%20and%20CO2-Emissions%20with%20R%20Notebook" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://web.whatsapp.com/send?text=Income,%20Energy%20Consumption%20and%20CO2-Emissions%20with%20R%20Notebook%20/project/external-project/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=/project/external-project/&amp;title=Income,%20Energy%20Consumption%20and%20CO2-Emissions%20with%20R%20Notebook" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>


  

</div>

  














</div>


<div class="article-header article-container featured-image-wrapper mt-4 mb-4" style="max-width: 720px; max-height: 405px;">
  <div style="position: relative">
    <img src="../../project/external-project/featured_hu3d03a01dcc18bc5be0e67db3d8d209a6_329522_720x0_resize_q90_lanczos.jpg" alt="" class="featured-image">
    
  </div>
</div>



  <div class="article-container">

    <div class="article-style">
      


<hr />
<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>This is an <a href="http://rmarkdown.rstudio.com">R Markdown</a> Notebook. In this document, the analysis from the last <a href="https://docs.google.com/spreadsheets/d/1NZpys5yniDyOuUPxV7JKWkcTP-FUZL1esZSvUitZPd0/edit?usp=sharing">Google Sheets Document</a> will be extended by:</p>
<ol style="list-style-type: decimal">
<li><p>Visualizing in R the relationships between Income, Energy consumption and CO2-emission,</p></li>
<li><p>Incrementing the dataset with further Energy- and CO2-emissions related variables, and thereafter expand the previous correlation matrix with additional Income-, Energy- and CO2-emissions-related variables,</p></li>
<li><p>Performing a Cluster Analysis based on a Multivariate Factor Analysis (MFA), a method that aims at synthesizing the information from all available data on Income, Energy and CO2-emissions.</p></li>
<li><p>Visualizing the results from the Cluster Analysis on ArcGIS.</p></li>
</ol>
<p>The considered dataset was used in an earlier project on <em>Sustainable Energy Consumption</em> - hence not up to date - and was sourced from the World Bank.</p>
<hr />
</div>
<div id="premilimary-illustrations" class="section level2">
<h2>Premilimary Illustrations</h2>
<p>To illustrate the revolving idea behind how some variables relate to each others, i.e. the notion of relationships or correlation <em>(sammenhæng)</em>, let’s start these 2 common examples found on the net.</p>
<p>Consider first the amount of limonade sold in function of the day’s temperature.</p>
<pre class="r"><code>sales &lt;- data.frame(c(14.2, 16.4, 11.9, 15.2, 18.5, 22.1, 19.4, 25.1, 23.4, 18.1, 22.6, 17.2),
                    c(215, 325, 185, 332, 406, 522, 412, 614, 544, 421, 445, 408))
colnames(sales) &lt;- c(&quot;Temperature (C)&quot;,&quot;Limonade Sales (Quantity)&quot;)
sales</code></pre>
<pre><code>##    Temperature (C) Limonade Sales (Quantity)
## 1             14.2                       215
## 2             16.4                       325
## 3             11.9                       185
## 4             15.2                       332
## 5             18.5                       406
## 6             22.1                       522
## 7             19.4                       412
## 8             25.1                       614
## 9             23.4                       544
## 10            18.1                       421
## 11            22.6                       445
## 12            17.2                       408</code></pre>
<p>The values can be represented graphically as below.</p>
<pre class="r"><code>plot(sales)</code></pre>
<p><img src="../../project/external-project/index_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>As can be seen, there seems to be a relationship between the amount of limonade sold and the temperature of the day, and a positive one.</p>
<p>In contrast, consider the amount of gazoline left in the tank of a car as the car travels a certain distance.</p>
<pre class="r"><code>tankLevel &lt;- data.frame(c(0, 50, 150, 275, 350, 425, 540, 680, 700, 750),
                    c(15, 14, 12, 9.5, 8, 6.5, 4.2, 1.4, 1, 0))
colnames(tankLevel) &lt;- c(&quot;Distance Travelled (km)&quot;,&quot;Gazoline Level (Quantity)&quot;)
tankLevel</code></pre>
<pre><code>##    Distance Travelled (km) Gazoline Level (Quantity)
## 1                        0                      15.0
## 2                       50                      14.0
## 3                      150                      12.0
## 4                      275                       9.5
## 5                      350                       8.0
## 6                      425                       6.5
## 7                      540                       4.2
## 8                      680                       1.4
## 9                      700                       1.0
## 10                     750                       0.0</code></pre>
<p>Graphically,</p>
<pre class="r"><code>plot(tankLevel)</code></pre>
<p><img src="../../project/external-project/index_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>Again, there appears to be a relationship between the amount of distance travelled and the level of gazoline in the tank of the car. Although this time, even more clearly, the graph demonstrates a negative relationship.</p>
<hr />
</div>
<div id="sustainable-energy-consumption" class="section level2">
<h2>Sustainable Energy Consumption</h2>
<p>Now that the idea of relationship, or <em>correlation</em>, has been introduced, let’s shift back to the analysis considered at the beginning of the document. Among the questions that the analysis will try to answer, here are a few ones:</p>
<ul>
<li><p>Do average income, energy consumption and CO2-emissions of the countries of the world relate to each other?</p></li>
<li><p>Do these different patterns of relationship also hold for other income-, energy- and CO2-emissions-related variables?</p></li>
<li><p>Given a region or income level, how (dis)similar are countries in terms of Energy Consumption and CO2-emissions?</p></li>
</ul>
<p>The analysis will be carried out in R and requires the use of the following packages (a collection of many functions):</p>
<pre class="r"><code>library(tidyverse)
library(PerformanceAnalytics)
library(gdata)
library(FactoMineR)
library(missMDA)
library(sp)
# library(arcgisbinding)</code></pre>
<p>To start, let’s read the available data on Income, Energy Consumption and CO2-emissions.</p>
<pre class="r"><code>Energy_comp = read.csv(&quot;https://sanktpetriskole.maps.arcgis.com/sharing/rest/content/items/c52d0e61a2b44240b1a76a012d18664d/data&quot;,
                       header=TRUE,sep=&quot;,&quot;, dec=&quot;.&quot;, 
                       row.names = 1)
dim(Energy_comp)</code></pre>
<pre><code>## [1] 147  18</code></pre>
<p>As can be seen, the data consists of 147 countries of the world, the different regions/categories they belong to and the 3 afore-mentioned variable groups with 18 columns in total.</p>
<p>Let’s have a preview of the dataset:</p>
<pre class="r"><code>head(Energy_comp, 10)</code></pre>
<pre><code>##             Country.Name                     Region        Income.Group
## AFG          Afghanistan                 South Asia          Low income
## AGO               Angola         Sub-Saharan Africa Lower middle income
## ALB              Albania      Europe &amp; Central Asia Upper middle income
## ARE United Arab Emirates Middle East &amp; North Africa         High income
## ARG            Argentina  Latin America &amp; Caribbean Upper middle income
## ARM              Armenia      Europe &amp; Central Asia Lower middle income
## AUS            Australia        East Asia &amp; Pacific         High income
## AUT              Austria      Europe &amp; Central Asia         High income
## AZE           Azerbaijan      Europe &amp; Central Asia Upper middle income
## BDI              Burundi         Sub-Saharan Africa          Low income
##     Population GDP..Mio.USD. GDP.per.capita   HDI
## AFG   34656032       65142.8         1802.7 0.479
## AGO   28813463      186327.0         5984.6 0.533
## ALB    2876101       34126.4        11359.2 0.764
## ARE    9269612      672419.6        67133.1 0.840
## ARG   43847430      876012.1        18489.4 0.827
## ARM    2924816       25884.4         8190.2 0.743
## AUS   24127159     1128908.0        44260.6 0.939
## AUT    8747358      443005.0        44438.7 0.893
## AZE    9762274      168713.8        16001.3 0.759
## BDI   10524117        8201.1          721.2 0.404
##     Electricity.Consumption.per.capita..kWh
## AFG                                   10.00
## AGO                                  312.48
## ALB                                 2309.37
## ARE                                11263.53
## ARG                                 3052.38
## ARM                                 1965.78
## AUS                                10059.21
## AUT                                 8360.52
## AZE                                 2202.39
## BDI                                   10.00
##     Fossil.fuel.energy.consumption..pct..of.total.
## AFG                                       56.31438
## AGO                                       48.28000
## ALB                                       61.42000
## ARE                                       99.81000
## ARG                                       88.54000
## ARM                                       74.56000
## AUS                                       93.39000
## AUT                                       64.90000
## AZE                                       98.37000
## BDI                                       55.73222
##     Electricity.production.from.oil.sources..pct..of.total.
## AFG                                                24.65847
## AGO                                                46.82000
## ALB                                                 0.00000
## ARE                                                 1.34000
## ARG                                                13.83000
## ARM                                                 0.00000
## AUS                                                 2.02000
## AUT                                                 0.99000
## AZE                                                 0.16000
## BDI                                                27.22136
##     Electricity.production.from.oil.gas.coal.sources..pct.of.total.
## AFG                                                        57.28404
## AGO                                                        46.82000
## ALB                                                         0.00000
## ARE                                                        99.73000
## ARG                                                        64.39000
## ARM                                                        42.44000
## AUS                                                        85.09000
## AUT                                                        17.73000
## AZE                                                        94.02000
## BDI                                                        59.32039
##     Electricity.production.from.hydroelectric.sources..pct.of.total.
## AFG                                                         37.86226
## AGO                                                         53.18000
## ALB                                                        100.00000
## ARE                                                          0.00000
## ARG                                                         29.04000
## ARM                                                         25.70000
## AUS                                                          7.41000
## AUT                                                         66.57000
## AZE                                                          5.26000
## BDI                                                         37.62264
##     Electricity.production.from.renewables.sources...excl..hydroelectric..pct.of.total.
## AFG                                                                            3.689814
## AGO                                                                            0.000000
## ALB                                                                            0.000000
## ARE                                                                            0.270000
## ARG                                                                            2.500000
## ARM                                                                            0.050000
## AUS                                                                            7.500000
## AUT                                                                           14.560000
## AZE                                                                            0.370000
## BDI                                                                            2.937671
##     Alternative.and.nuclear.energy..pct..of.total.energy.use.
## AFG                                                  5.081635
## AGO                                                  2.950000
## ALB                                                 17.920000
## ARE                                                  0.100000
## ARG                                                  5.880000
## ARM                                                 27.510000
## AUS                                                  2.550000
## AUT                                                 12.870000
## AZE                                                  0.780000
## BDI                                                  3.303454
##     Energy.use.per.capita..kg.oil.eq. CO2.emissions..kt.
## AFG                             50.00            9809.23
## AGO                            545.04           34763.16
## ALB                            808.46            5716.85
## ARE                           7769.23          211369.55
## ARG                           2015.19          204024.55
## ARM                           1018.07            5529.84
## AUS                           5328.22          361261.84
## AUT                           3765.43           58712.34
## AZE                           1502.08           37487.74
## BDI                             50.00             440.04
##     CO2.emissions..tons.per.capita.
## AFG                            0.30
## AGO                            1.29
## ALB                            1.98
## ARE                           23.30
## ARG                            4.75
## ARM                            1.90
## AUS                           15.37
## AUT                            6.87
## AZE                            3.93
## BDI                            0.04
##     CO2.emissions.from.transport..pct.of.total.fuel.combustion.
## AFG                                                    39.70712
## AGO                                                    43.99000
## ALB                                                    59.95000
## ARE                                                    21.04000
## ARG                                                    24.17000
## ARM                                                    27.78000
## AUS                                                    24.74000
## AUT                                                    36.62000
## AZE                                                    24.49000
## BDI                                                    40.07004</code></pre>
<p>A summary of the dataset follows:</p>
<pre class="r"><code>print(summary(Energy_comp))</code></pre>
<pre><code>##       Country.Name                        Region  
##  Namibia    :  2   East Asia &amp; Pacific       :17  
##  Afghanistan:  1   Europe &amp; Central Asia     :47  
##  Albania    :  1   Latin America &amp; Caribbean :23  
##  Algeria    :  1   Middle East &amp; North Africa:17  
##  Angola     :  1   North America             : 2  
##  Argentina  :  1   South Asia                : 7  
##  (Other)    :140   Sub-Saharan Africa        :34  
##               Income.Group   Population        GDP..Mio.USD.     
##  High income        :46    Min.   :3.195e+04   Min.   :     100  
##  Low income         :23    1st Qu.:4.733e+06   1st Qu.:   38279  
##  Lower middle income:36    Median :1.065e+07   Median :  153199  
##  Upper middle income:42    Mean   :4.801e+07   Mean   :  796355  
##                            3rd Qu.:3.547e+07   3rd Qu.:  510809  
##                            Max.   :1.379e+09   Max.   :21450968  
##                                                                  
##  GDP.per.capita        HDI         Electricity.Consumption.per.capita..kWh
##  Min.   :   100   Min.   :0.3520   Min.   :   10.0                        
##  1st Qu.:  5219   1st Qu.:0.6115   1st Qu.:  579.2                        
##  Median : 13921   Median :0.7360   Median : 2202.4                        
##  Mean   : 19788   Mean   :0.7100   Mean   : 3911.1                        
##  3rd Qu.: 26569   3rd Qu.:0.8285   3rd Qu.: 5032.5                        
##  Max.   :118207   Max.   :0.9490   Max.   :53832.5                        
##                                                                           
##  Fossil.fuel.energy.consumption..pct..of.total.
##  Min.   :  5.36                                
##  1st Qu.: 54.28                                
##  Median : 67.99                                
##  Mean   : 65.89                                
##  3rd Qu.: 85.48                                
##  Max.   :100.00                                
##                                                
##  Electricity.production.from.oil.sources..pct..of.total.
##  Min.   : 0.00                                          
##  1st Qu.: 0.35                                          
##  Median : 2.84                                          
##  Mean   :15.04                                          
##  3rd Qu.:22.68                                          
##  Max.   :99.46                                          
##                                                         
##  Electricity.production.from.oil.gas.coal.sources..pct.of.total.
##  Min.   :  0.00                                                 
##  1st Qu.: 38.20                                                 
##  Median : 58.02                                                 
##  Mean   : 57.88                                                 
##  3rd Qu.: 86.47                                                 
##  Max.   :100.00                                                 
##                                                                 
##  Electricity.production.from.hydroelectric.sources..pct.of.total.
##  Min.   :  0.000                                                 
##  1st Qu.:  4.495                                                 
##  Median : 27.610                                                 
##  Mean   : 30.089                                                 
##  3rd Qu.: 41.600                                                 
##  Max.   :100.000                                                 
##                                                                  
##  Electricity.production.from.renewables.sources...excl..hydroelectric..pct.of.total.
##  Min.   : 0.000                                                                     
##  1st Qu.: 0.125                                                                     
##  Median : 3.056                                                                     
##  Mean   : 6.499                                                                     
##  3rd Qu.: 7.235                                                                     
##  Max.   :55.830                                                                     
##                                                                                     
##  Alternative.and.nuclear.energy..pct..of.total.energy.use.
##  Min.   : 0.00                                            
##  1st Qu.: 1.33                                            
##  Median : 5.11                                            
##  Mean   :10.22                                            
##  3rd Qu.:12.29                                            
##  Max.   :91.98                                            
##                                                           
##  Energy.use.per.capita..kg.oil.eq. CO2.emissions..kt.
##  Min.   :   50.0                   Min.   :      50  
##  1st Qu.:  542.3                   1st Qu.:    6302  
##  Median : 1337.4                   Median :   26450  
##  Mean   : 2213.2                   Mean   :  224420  
##  3rd Qu.: 2771.2                   3rd Qu.:   95844  
##  Max.   :18562.7                   Max.   :10291927  
##                                                      
##  CO2.emissions..tons.per.capita.
##  Min.   : 0.010                 
##  1st Qu.: 0.840                 
##  Median : 3.050                 
##  Mean   : 4.786                 
##  3rd Qu.: 6.220                 
##  Max.   :45.420                 
##                                 
##  CO2.emissions.from.transport..pct.of.total.fuel.combustion.
##  Min.   : 3.54                                              
##  1st Qu.:23.60                                              
##  Median :34.78                                              
##  Mean   :34.05                                              
##  3rd Qu.:40.51                                              
##  Max.   :96.78                                              
## </code></pre>
<p><strong>PS</strong>: the existence of missing values for some variables was dealt with imputation methods from the package <em>missMDA</em>. Suffice to write here that the original dataset was trimmed of some countries that lack many values, while at the same time, 37 countries were kept for the analysis by imputing some of their missing values using the correlation structure of the dataset. Refer to this <a href="https://arcg.is/uW4Ky">App</a> to compare the analysis with complete observations (110) and the one based on the augmented dataset (the current one) with imputed observations (147).</p>
<hr />
</div>
<div id="simple-correlations-from-the-lectures-dataset" class="section level2">
<h2>Simple correlations from the lecture’s dataset</h2>
<p>With this dataset, one can visualize the few correlations introduced in the <a href="https://docs.google.com/spreadsheets/d/1NZpys5yniDyOuUPxV7JKWkcTP-FUZL1esZSvUitZPd0/edit?usp=sharing">Google Sheets Document</a>. This is done with the package <em>PerformanceAnalytics</em> as follows.</p>
<pre class="r"><code>chart.Correlation(Energy_comp[,c(6,15,17)], histogram=TRUE, pch=19)</code></pre>
<p><img src="../../project/external-project/index_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>Focusing first on the scatterplots, the graphical matrix could be read as one read for example a multiplication table, that is reading the rows first and then the columns: There, were the row belonging to <em>Energy Use per Capita</em> meets the column of <em>GDP per Capita</em>, the scatter-plot suggests a rather pronounced correlation between these 2 variables, although the correlation between <em>Energy Use per Capita</em> and <em>CO2 Emissions per Capita</em> appears to be slightly more significant. Not surprisingly given the well-known fact that fossile fuels still account for about 80 pct. of total energy consumed on the global level, far ahead of the share of renewable energy sources (around 10 pct.) as discussed during the lectures.</p>
<p>The 3 scatterplots can be drawn once more, this time visualizing the income groups each country (point) pertains to:</p>
<pre class="r"><code>lower.panel&lt;-function(x, y){
  points(x,y, pch=19, col=c(&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;, &quot;grey&quot;)[Energy_comp$Income.Group])
  r &lt;- round(cor(x, y), digits=2)
  txt &lt;- paste0(&quot;R = &quot;, r)
  usr &lt;- par(&quot;usr&quot;); on.exit(par(usr))
  par(usr = c(0, 1, 0, 1))
  text(0.5, 0.9, txt)
}
pairs(Energy_comp[,c(6,15,17)], upper.panel = NULL, 
      lower.panel = lower.panel)</code></pre>
<p><img src="../../project/external-project/index_files/figure-html/unnamed-chunk-10-1.png" width="672" />
<strong>PS</strong>: The colour conventions are:</p>
<ul>
<li><strong>Red</strong> for <em>high income</em> countries</li>
<li><strong>Green</strong> for <em>low income</em> countries</li>
<li><strong>Blue</strong> for <em>lower middle income</em> countries</li>
<li><strong>Grey</strong> for <em>upper middle income</em> countries</li>
</ul>
<hr />
</div>
<div id="extended-correlation-structure" class="section level2">
<h2>Extended Correlation Structure</h2>
<p>In the same fashion, one can expand the correlation matrix to include the remainder of the continuous variables at hand:</p>
<pre class="r"><code>chart.Correlation(Energy_comp[,c(5:18)], histogram=TRUE, pch=19)</code></pre>
<p><img src="../../project/external-project/index_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>Given the difficulty to distinguish between the details in such a graphical illustration, one can list the strongest correlations among all variables. This have been carried out in the next code chunk. In passing, note that the strongest relationships in the matrix are suggested by the number of red stars (3 means likelier relationships) or the numerical value of the correlation coefficient (stronger correlations where the coefficient is closer to 1 in absolute terms). Any biasing effects from outliers have been ignored.</p>
<pre class="r"><code>corm &lt;- cor(Energy_comp[,c(5:18)])
corm[lower.tri(corm)] &lt;- 0
corm[lower.tri(corm,diag=TRUE)] &lt;- 0
cor &lt;- as.data.frame(as.table(corm))
high&lt;-subset(cor, abs(Freq) &gt; 0.6)
as.matrix(high[order(-high[,3]),])</code></pre>
<pre><code>##     Var1                                                             
## 155 &quot;GDP..Mio.USD.&quot;                                                  
## 144 &quot;Electricity.Consumption.per.capita..kWh&quot;                        
## 179 &quot;Energy.use.per.capita..kg.oil.eq.&quot;                              
## 170 &quot;GDP.per.capita&quot;                                                 
## 142 &quot;GDP.per.capita&quot;                                                 
## 30  &quot;GDP.per.capita&quot;                                                 
## 44  &quot;GDP.per.capita&quot;                                                 
## 89  &quot;Fossil.fuel.energy.consumption..pct..of.total.&quot;                 
## 187 &quot;Fossil.fuel.energy.consumption..pct..of.total.&quot;                 
## 133 &quot;Electricity.production.from.oil.gas.coal.sources..pct.of.total.&quot;
## 105 &quot;Electricity.production.from.oil.gas.coal.sources..pct.of.total.&quot;
##     Var2                                                              
## 155 &quot;CO2.emissions..kt.&quot;                                              
## 144 &quot;Energy.use.per.capita..kg.oil.eq.&quot;                               
## 179 &quot;CO2.emissions..tons.per.capita.&quot;                                 
## 170 &quot;CO2.emissions..tons.per.capita.&quot;                                 
## 142 &quot;Energy.use.per.capita..kg.oil.eq.&quot;                               
## 30  &quot;HDI&quot;                                                             
## 44  &quot;Electricity.Consumption.per.capita..kWh&quot;                         
## 89  &quot;Electricity.production.from.oil.gas.coal.sources..pct.of.total.&quot; 
## 187 &quot;CO2.emissions.from.transport..pct.of.total.fuel.combustion.&quot;     
## 133 &quot;Alternative.and.nuclear.energy..pct..of.total.energy.use.&quot;       
## 105 &quot;Electricity.production.from.hydroelectric.sources..pct.of.total.&quot;
##     Freq        
## 155 &quot; 0.9527348&quot;
## 144 &quot; 0.8760625&quot;
## 179 &quot; 0.8594627&quot;
## 170 &quot; 0.8343659&quot;
## 142 &quot; 0.8151981&quot;
## 30  &quot; 0.7420396&quot;
## 44  &quot; 0.6840740&quot;
## 89  &quot; 0.6123586&quot;
## 187 &quot;-0.6460173&quot;
## 133 &quot;-0.6515375&quot;
## 105 &quot;-0.8331979&quot;</code></pre>
<p>The correlation coefficients are arranged in descending order, and the ones of interest are those that are closest to 1 in absolute values.</p>
<p>Hence, there seems to be further relevant correlations among the variables from the extended dataset. To name a few …</p>
<ul>
<li><p>On the positive side:</p>
<ul>
<li><p>Total income and total CO2-emissions,</p></li>
<li><p>Electricity Consumption and Energy Use per capita,</p></li>
</ul></li>
<li><p>On the negative side:</p>
<ul>
<li><p>Electricity production from fossile fuels and from hydroelectric sources</p></li>
<li><p>Electricity production from fossile fuels and from alternative and nuclear energy</p></li>
</ul></li>
</ul>
<p>This seems in line with general intuition and corroborates earlier observations.</p>
<hr />
</div>
<div id="hierarchical-clustering" class="section level2">
<h2>Hierarchical Clustering</h2>
<p>Moving now the focus towards the study of the many countries of the world and how (dis)similar they are with respect to each other in term of income, energy use and CO2-emissions, the many variables at hand can be synthethised to help us better answer a few additional questions:</p>
<ul>
<li><p>Are there group of countries that shows the same pattern of income level, energy consumption and CO2-emissions?</p></li>
<li><p>If so, which cluster of countries shows similarities or, by contrast, dissimilarities in terms of income level, energy consumption and CO2-emissions?</p></li>
</ul>
<p>These questions and many others can be answered by means of a Cluster Analysis, and the chosen method is hierarchical clustering, the one that by default is provided by the library <em>FactoMineR</em>.</p>
<p>Prior to this, a Multivariate Factor Analysis was undertaken so as to reduce the multidimensionality of the dataset, but at the same time, to take into account the grouped nature of the dataset’s variables. This can be helpful when it comes to group the 147 countries into different clusters and characterise each resulting clusters by means of the synthetic variables that emerge from such an analysis.</p>
<p>The detailed outline of this analysis is skipped, but the relevant code chunks are provided as follows:</p>
<pre class="r"><code>res &lt;- MFA(Energy_comp[,c(2:18)], group=c(1,1,2,2,8,3), type=c(rep(&quot;n&quot;,2),rep(&quot;s&quot;,4)),
           ncp=4, graph=F, name.group=c(&quot;Region&quot;,&quot;IncomeGroup&quot;,&quot;Desc&quot;,&quot;Income&quot;,&quot;Energy&quot;,&quot;Emmissions&quot;),
           num.group.sup=c(2:3))</code></pre>
<pre class="r"><code>res.hcpc &lt;- HCPC(res, kk = Inf, graph=F)</code></pre>
<p>Once the different clusters have been obtained (their numbers specified with some degree of subjectivity, see later), these can be transferred and mapped in <a href="https://sanktpetriskole.maps.arcgis.com/apps/View/index.html?appid=39999e464aa94b528d7eb0d2c5543561">ArcGIS</a>.</p>
<p>Here is also a <a href="https://drive.google.com/open?id=1vyLpeukQfa64Bq5P0KbWMXfSb2s_foBj">screenshot</a> of the resulting clustering.</p>
<p>When it comes to interpretate the resulting clustering, the different outputs from the above 2 code chunks are handy. Keeping it short, among the main observations that can be derived from the outputs:</p>
<ul>
<li><p><strong>Cluster 5</strong>: Countries with respectively high income, energy use and CO2-emissions per capita.</p></li>
<li><p><strong>Cluster 1</strong>: Countries with respectively low income, energy use and CO2-emissions per capita.</p></li>
<li><p><strong>Cluster 4</strong>: Countries with high total income, energy use and CO2-emissions.</p></li>
<li><p><strong>Cluster 3</strong>: Countries with relatively:</p>
<ul>
<li><p>high proportion of alternative and nuclear energy content in their total energy use; high proportion of electricity production from hydroelectric sources; high proportion of CO2-emissions from transport as a percentage of total fuel combustion; high electricity consumption per capita.</p></li>
<li><p>Low proportion of electricity production from fossil fuel sources; low proportion of fossil fuel energy consumption as a percentage of total energy use.</p></li>
</ul></li>
<li><p><strong>Cluster 2</strong>: In contrast with <strong>Cluster 3</strong>, these are countries with relatively:</p>
<ul>
<li><p>high proportion of fossil fuel energy consumption as a percentage of total energy use; high proportion of electricity production from fossil fuel sources; high HDI (Human Development Index).</p></li>
<li><p>low proportion of CO2-emissions from transport as a percentage of total fuel combustion; low proportion of electricity production from hydroelectric sources; low proportion of alternative and nuclear energy content in their total energy use;</p></li>
</ul></li>
</ul>
<p>In the same token, focusing on the 2 categorical variables of the analysis, namely <em>Regions</em> and <em>IncomeGroup</em>, the following observations can be made from the code output:</p>
<ul>
<li><p><strong>Cluster 1</strong> tend to be overrepresented by <em>Sub-Saharan</em> and <em>Low Income</em> countries.</p></li>
<li><p><strong>Cluster 2</strong> contains a higher proportion of <em>Upper Middle Income</em> countries and <em>European/Central Asian</em> countries.</p></li>
<li><p><strong>Cluster 3</strong> are all <em>High Income</em> countries, most of which are <em>European/Central Asian</em>.</p></li>
<li><p><strong>Cluster 5</strong> are all <em>High Income</em> countries, most of them belonging to the <em>Middle East and North African</em> regions.</p></li>
</ul>
<hr />
</div>
<div id="final-thoughts" class="section level2">
<h2>Final thoughts</h2>
<p>Cluster analysis, along with Multivariate Factor Analysis, are methods used to synthethise available information in a given dataset that usually contains more than 10 variables. From this preliminary analysis:</p>
<ul>
<li><p>Most of the results - notwithstanding the outdated nature of some variables (a few dating back from 2011) - are in line with what one would expect from the relationships between Income, Energy Consumption and CO2-emissions.</p></li>
<li><p>A few countries have been surprisingly clustered with others e.g. across different income groups, something that seems to contradict common understanding. Given the use of MFA as the preliminary tool for dimensionality reduction, these artifacts, that by themselves deserve checking the original dataset and/or further investigations, could a priori be justified by the rebalancing nature of the MFA-methodology: no group among the afore-mentioned 3 is allowed to outweight the other 2 when it comes to define the primary components of variability in the dataset. A cluster analysis based on a standard PCA would have resulted in different clusterings, arguably more in line with common intuition.</p></li>
<li><p>The defined numbers of clustering is to some extent a matter of subjectivity (albeit a few criteria exists to optimally define the right ratio between inter and total inertia), and a different level of clustering would probably have made this analysis either too simplistic (loosing some interesting insigths, which this analysis has already done by only accounting for the first 2 dimensions of variability representing slightly above 50 pct. of all information in the dataset) or too detailed to easily discern common patterns between the dataset’s observations.</p></li>
<li><p>These limitations and other warrants further study of such an interesting topic.</p></li>
</ul>
</div>

    </div>

    


    








  





  
  
  
    
  
  
  <div class="media author-card">
    
      
      <img class="portrait mr-3" src="../../authors/admin/avatar_hucc45c4360b7916c03078ada939fd4b7b_143025_250x250_fill_q90_lanczos_center.jpg" alt="Avatar">
    

    <div class="media-body">
      <h5 class="card-title"><a href="../../">Samir Benjelloun</a></h5>
      <h6 class="card-subtitle">Developper of Shiny Apps and Rmarkdown Documents</h6>
      <p class="card-text">My interests include the creation of Web Apps for educational purposes.</p>
      <ul class="network-icon" aria-hidden="true">
        
          
          
          
            
          
          
          
          
          
            
          
          <li>
            <a href="../../#contact" >
              <i class="fas fa-envelope"></i>
            </a>
          </li>
        
          
          
          
            
          
          
          
          
          
            
          
          <li>
            <a href="https://github.com/benksam" target="_blank" rel="noopener">
              <i class="fab fa-github"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>




    


    
    

    
    
    

    
    
    

    
    
    

  </div>
</article>



      

    
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js" integrity="sha256-aYTdUrn6Ow1DDgh5JTc3aDGnnju48y/1c8s1dgkYPQ8=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/r.min.js"></script>
        
      

      
      
    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.js" integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log==" crossorigin="anonymous"></script>
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="../../js/academic.min.16bbb3750feb7244c9bc409a5a4fe678.js"></script>

    






  
  <div class="container">
    <footer class="site-footer">
  
  <p class="powered-by">
    
      <a href="../../privacy/">Privacy Policy</a>
    
    
       &middot; 
      <a href="../../terms/">Terms</a>
        
  </p>
  

  <p class="powered-by">
    

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" id="back_to_top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
